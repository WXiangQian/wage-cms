<?php

namespace Qiaweicom\Admin\Form\Field;

use Qiaweicom\Admin\Form\Field;

class UEditor extends Field
{
    protected static $js = [
        '/vendor/ueditor/ueditor.config.js',
        '/vendor/ueditor/ueditor.all.js'
    ];

    public function formatId($column)
    {
        $column =  $column . "_" . uniqid();
        return parent::formatId($column); // TODO: Change the autogenerated stub
    }


    public function render()
    {
        $script =  "window.UEDITOR_CONFIG.serverUrl = '" . config('ueditor.route.name') . "';";
        $script .= "var ue = UE.getEditor('" . $this->id . "');";
        $this->script = $script;
        return parent::render();
    }
}
